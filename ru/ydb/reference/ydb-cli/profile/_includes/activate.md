---
sourcePath: ru/ydb/ydb-docs-core/ru/core/reference/ydb-cli/profile/_includes/activate.md
---
# Активированный профиль

Исполнение команд {{ ydb-short-name }} CLI над базой данных требует установки соединения с ней. Если {{ ydb-short-name }} CLI не удалось определить какой-либо параметр соединения по [параметрам командной строки и переменным окружения](../../connect.md), он берется из активированного профиля.

Активация профиля является простым способом начать изучение {{ ydb-short-name }} CLI, так как один раз заданные параметры соединения будут применяться автоматически к любой команде, без указания каких-либо параметров соединения в командной строке.

Однако, данная простота может приводить к нежелательному поведению в дальнейшей работе, как только возникнет необходимость работы с несколькими базами данных:

- Активированный профиль применяется неявно, а значит, может примениться по ошибке, когда забыт какой-либо параметр соединения в командной строке.
- Активированный профиль применяется неявно, а значит, может примениться по ошибке, когда допущена описка в имени переменной окружения.
- Активированный профиль нельзя применять в скриптах, так как он сохраняется в файле, и его смена в одном окне терминала повлияет на все другие окна, возможно приведя к неожиданной смене БД посередине исполняемого в скрипте цикла.

С момента как вам в первый раз потребуется соединиться с какой-либо новой БД, отличной от начальной, рекомендуется деактивировать профиль и всегда выбирать его явно опцией `--profile`. 

## Активация профиля командой {#activate}

Активация профиля выполняется командой

```bash
{{ ydb-cli }} config profile activate [profile_name]
```

, где `[profile_name]` - необязательное имя профиля.

Если имя профиля указано, то производится его активация. Если профиля с указанным именем не существует, то будет выдана ошибка с предложением посмотреть список доступных профилей:
``` text
No existing profile "<profile_name>". Run "ydb config profile list" without arguments to see existing profiles
```

Если имя профиля не указано, то в интерактивном режиме будет предложено выбрать между следующими вариантами:
``` text
Please choose profile to activate:
 [1] Don't do anything, just exit
 [2] Deactivate current active profile (if any)
 [3] <profile_name_1> (active)
 [4] <profile_name_2>
 ...
Please enter your numeric choice: 
```

- `1` завершает исполнение, активированным останется текущий активированный профиль. Он отмечен как `(active)` в списке существующих профилей, начинающемся с пункта 3.
- `2` деактивирует текущий активированный профиль. Если никакой профиль ранее не был активирован, то ничего не изменится.
- `3` и далее — активация выбранного профиля. Текущий активированный профиль отмечен как `(active)`

При успешной активации профиля исполнение завершается сообщением
``` text
Profile "<profile_name>" was activated.
```

### Пример

Активация профиля с именем `mydb1`:

```bash
$ {{ ydb-cli }} config profile activate mydb1
Profile "mydb1" was activated.
```

## Активация профиля при его инициализации {#init}

На последнем шаге интерактивного выполнения [команды создания или изменения](../create.md) профиля `{{ ydb-cli }} config profile create` предлагается активировать созданный (или измененный) профиль:

```text
Activate profile "<profile_name>" to use by default? (current active profile is not set) y/n:
```

Ответьте `y` (Да) чтобы профиль был активирован.

## Деактивация профиля {#deactivate}

{{ ydb-short-name }} CLI в настоящее время поддерживает деактивацию профиля только в интерактивном режиме при вызове команды активации без указания профиля (выбор пункта `2` в описанной выше [команде активации](#activate)).

При необходимости вы можете использовать перенаправление ввода операционной системы для автоматического выбора опции `2` в интерактивном вводе:

``` bash
echo 2 | {{ ydb-cli }} config profile activate
```

Работоспособность данного способа никак не гарантируется.
